generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model School {
  id        String   @id @default(uuid())
  name      String   @unique
  lga       String
  students  Student[]
  teachers  Teacher[]
}

model Student {
  id                  String   @id @default(cuid())
  createdAt           DateTime @default(now())
  
  // Personal Info
  fullName            String
  age                 Int
  gender              String?
  classLevel          String?
  
  // School Relation
  schoolId            String
  school              School   @relation(fields: [schoolId], references: [id])
  
  // Team Info
  isTeam              Boolean  @default(false)
  teamName            String?
  teamMembers         String?  // JSON string
  
  // Project Info
  projectTitle        String
  sdg                 String
  projectDescription  String
  conceptNotePath     String?  // URL/Path to uploaded file
  
  // Additional
  motivation          String?
}

model Teacher {
  id                  String   @id @default(cuid())
  createdAt           DateTime @default(now())
  
  // Personal Info
  fullName            String
  email               String   @unique
  phone               String
  
  // Professional
  subjects            String
  // yearsExperience     String // Removed in favor of club details
  estStudents         String?
  facilities          String? // Store as comma-separated string
  
  // School Relation
  schoolId            String
  school              School   @relation(fields: [schoolId], references: [id])
}
